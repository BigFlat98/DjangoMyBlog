{% extends 'base.html' %}
{% load static %}

{% block extra-style %}
<style>
    .my-image-h300{
        width: 100%;
        height: 300px;
        object-fit: cover; <!--들어오는 값 크기에 맞춤. cover 이미지가 박스보다 크면 잘라냄 ,fill 작으면 이미지 박스 크기를 키워서 맞춤, contain 이미지가 작을 때 비율에 맞춰서 적정 크기로 키움-->
    }
    .my-link:hover{
        cursor:pointer;
        color:#123;
    
    }
</style>
{% endblock %}

{% block content %}
<!-- Page content-->
<section class='page-section' id='post'>
    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-8">
                <!-- Post content-->
                <article>
                    <!-- Post header-->
                    <header class="mb-4">
                        <!-- Post title-->
                        <h1 class="fw-bolder mb-1">[[post.title]]</h1>
                        <hr />
                        <p>
                            <span>[[post.update_date]] &emsp;</span>
                            <i class='fas fa-copyright'></i> &nbsp; <!--i태그 -> icon을 사용하기 위한 태그 -->
                            <span>[[post.category]] &emsp;</span>
                            <i class='fas fa-tag'></i> &nbsp;
                            <span v-for="(tag,index) in post.tags" :key="index">
                                <span v-if='index !==0'>,</span>
                                <span>[[tag]]</span>
                            </span>
                            <span> &emsp;</span>
                            <i class='fas fa-heart'></i> &nbsp;
                            <span>5 &emsp;</span>
                        </p>
                        <hr />
                    </header>
                    <!-- Preview image figure-->
                    <figure class="mb-4"><img class="img-fluid rounded my-image-h300" :src="post.image" alt="..." /></figure><!--태그에서 vue함수 사용시 바인딩 필요-->
                    <!-- Post content-->
                    <section class="mb-5">
                     <p>[[post.content]]</p>
                    </section>
                </article>
                <!-- Comments section-->
                <section class="mb-5">
                    <div class="card bg-light">
                        <div class="card-body">
                            <!-- Comment form-->
                            <form class="mb-4"><textarea class="form-control" rows="3" placeholder="Join the discussion and leave a comment!"></textarea></form>
                            <!-- Comment with nested comments-->
                            <div class="d-flex mb-4">
                                <!-- Parent comment-->
                                <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                <div class="ms-3">
                                    <div class="fw-bold">2024-11-05</div>
                                    If you're going to lead a space frontier, it has to be government; it'll never be private enterprise. Because the space frontier is dangerous, and it's expensive, and it has unquantified risks.
                                </div>
                            </div>
                            <!-- Single comment-->
                            <div class="d-flex">
                                <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                <div class="ms-3">
                                    <div class="fw-bold">2024-11-05 12:52</div>
                                    When I look at the universe and all the ways the universe wants to kill us, I find it hard to reconcile that with statements of beneficence.
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <!-- Side widgets-->
            <div class="col-lg-4">
                <!-- Side widget-->
                <div class="card mb-4">
                    <div class="card-header">Preview Post</div>
                    <div class="card-body my-link" @click="fetchPostDetail(prevPost.id)">[[prevPost.title]]</div>
                    <!-- @click="fetchPostDetail(prevPost.id)" -> 요소의 값을 누르면 vue함수를 실행시킬 수 있음.
                            이러면 url요청을 새로하지 않고 vue가 장고에서 데이터만 가져와 변경되는 부분만 바꾸기 때문에 
                            서버의 리소스도 아끼고 속도도 빠름. 이게 Vue를 사용하는 이유-->
                </div>
                <!-- Side widget-->
                <div class="card mb-4">
                    <div class="card-header">Next Post</div>
                    <div class="card-body my-link" @click="fetchPostDetail(nextPost.id)">[[nextPost.title]]</div>
                </div>
                <!-- Categories widget-->
                <div class="card mb-4">
                    <div class="card-header">Categories</div>
                    <div class="card-body">
                        <div class="row">
                            {% comment %} <div class="col-sm-6">
                                <ul class="list-unstyled mb-0">
                                    <li><a href="#!">Web Design</a></li>
                                    <li><a href="#!">HTML</a></li>
                                    <li><a href="#!">Freebies</a></li>
                                </ul>
                            </div>
                            <div class="col-sm-6">
                                <ul class="list-unstyled mb-0">
                                    <li><a href="#!">JavaScript</a></li>
                                    <li><a href="#!">CSS</a></li>
                                    <li><a href="#!">Tutorials</a></li>
                                </ul>
                            </div> {% endcomment %}
                        </div>

                        <span v-for='(category, index) in cateList' :key="category.id">
                            <span v-if="index !==0">&emsp;</span>
                            <span class = " text-success my-link">[[category]]</span>
                        </span>
                        
                    </div>
                </div>
                <!-- Tags widget-->
                <div class="card mb-4">
                    <div class="card-header">Tags</div>
                    <div class="card-body">
                        <span v-for='(tag, index) in tagList' :key="tag.id">
                            <span v-if="index !==0">&emsp;</span>
                            <span class = " text-success my-link">[[tag]]</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra-script %}
{% include 'include/post_detail_vue.html' %}
{% endblock %}